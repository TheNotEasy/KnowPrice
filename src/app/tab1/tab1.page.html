<ion-content [fullscreen]="true">
  <div class="wrapper">
    <div class="search container">
      <ion-searchbar placeholder="{{lang.getString(lang.searchText)}}"></ion-searchbar>
    </div>
    <div *ngIf="readyPromise | async; else loading">
      <div class="shops container">
        <section class="shops__section">
          <div class="section__title">Магазины поблизости</div>
          <ul class="section__list">
            <li *ngFor="let shop of data">
              <app-shop [id]="shop.id" [name]="shop.name" [rating]="shop.ratings"></app-shop>
            </li>
          </ul>
        </section>
      </div>
    </div>
  </div>
</ion-content>

<ng-template #loading>
  <ion-spinner style="margin: 100px auto; text-align: center; width: 70%;" *ngIf="!isLoadingFailed; else loadingFailed"></ion-spinner>
</ng-template>

<ng-template #loadingFailed>
  <app-error></app-error>
</ng-template>